import{d as M,b as g,o as u,c as p,e,m as f,v as w,u as n,p as $,F as k,h as C,q as D,t as _,i as E,r as P,f as v,a as y,g as h,s as x,j as B,x as N}from"./app-CIMN4Q9B.js";import{m as S,s as V}from"./utils-DeFJ5rtO.js";import{m as q}from"./makeHttpReq-IEoXqM35.js";import{n as G}from"./laravel-vue-pagination.es-1FsGsNxG.js";import{m as b}from"./MemberStore-BKczrErB.js";import"./toast-notificaltion-S-mg22Rk.js";const L={class:"row"},R={class:"row"},T={class:"col-md-4"},I={style:{color:"blue"}},F={class:"row"},j={class:"table table-bordered table-hover table-striped mt-3"},H=["onClick"],K=M({__name:"MemberTable",props:{members:{},loading:{type:Boolean}},emits:["editMember","getMember"],setup(d,{emit:r}){const a=r,l=g(""),m=S(async function(){await a("getMember",1,l.value)},200);return(o,t)=>{var i,c;return u(),p("div",L,[e("div",R,[e("div",T,[f(e("input",{type:"text",onKeydown:t[0]||(t[0]=(...s)=>n(m)&&n(m)(...s)),"onUpdate:modelValue":t[1]||(t[1]=s=>l.value=s),placeholder:"search...",class:"form-control"},null,544),[[w,l.value]]),f(e("span",I,t[2]||(t[2]=[e("b",null,"Searching....",-1)]),512),[[$,o.loading===!0]])])]),t[4]||(t[4]=e("br",null,null,-1)),e("div",F,[e("table",j,[t[3]||(t[3]=e("tr",null,[e("td",null,"ID"),e("td",null,"Name"),e("td",null,"Email"),e("td",null,"Edit")],-1)),e("tbody",null,[(u(!0),p(k,null,C((c=(i=o.members)==null?void 0:i.data)==null?void 0:c.data,s=>(u(),p("tr",{key:s.id},[e("td",null,_(s.id),1),e("td",null,_(s.name),1),e("td",null,_(s.email),1),e("td",null,[e("button",{onClick:X=>a("editMember",s),class:"btn btn-outline-primary"},"Edit",8,H)])]))),128))])])]),D(o.$slots,"pagination")])}}});function O(){const d=g(!1),r=g({});async function a(l=1,m=""){try{d.value=!0;const o=await q(`members?query=${m}&page=${l}`,"GET");d.value=!1,r.value=o}catch(o){d.value=!1,V(o)}}return{getMembers:a,memberData:r,loading:d}}const U={class:"container"},z={class:"row"},A={class:"col-md-8"},J={class:"card"},Q={class:"card-header"},W={class:"card-body"},oe=M({__name:"MemberPage",setup(d){const{getMembers:r,memberData:a,loading:l}=O();async function m(){await r()}console.log("Pagination Data:",a.value);function o(t){b.memberInput=t,b.edit=!0,x.push("/create-members")}return E(async()=>{m(),b.edit=!1,b.memberInput={}}),(t,i)=>{const c=P("RouterLink");return u(),p("div",U,[e("div",z,[e("div",A,[e("div",J,[e("div",Q,[i[1]||(i[1]=v("Member ")),y(c,{style:{float:"right"},to:"/create-members",class:"btn btn-primary"},{default:h(()=>i[0]||(i[0]=[v("Create Member ")])),_:1})]),e("div",W,[y(K,{onEditMember:o,loading:n(l),onGetMember:n(r),members:n(a)},{pagination:h(()=>{var s;return[(s=n(a))!=null&&s.data?(u(),B(n(G),{key:0,data:n(a).data,onPaginationChangePage:n(r)},null,8,["data","onPaginationChangePage"])):N("",!0)]}),_:1},8,["loading","onGetMember","members"])])])])])])}}});export{oe as default};
