import{b as V,d as w,r as u,o as I,c as D,e as t,t as P,u as o,w as y,a as n,g as B,n as U,f as C}from"./app-CIMN4Q9B.js";import{u as S,r as p}from"./index-6z7teoso.js";import{m}from"./makeHttpReq-IEoXqM35.js";import{s as $}from"./toast-notificaltion-S-mg22Rk.js";import{s as k}from"./utils-DeFJ5rtO.js";import{p as e}from"./projectStore-CrgIw_v8.js";function E(){const a=V(!1);async function i(){try{a.value=!0;const s=e.edit?await x():await h();a.value=!1,e.projectInput={},$(s.message)}catch(s){a.value=!1,k(s)}}return{createOrUpdate:i,loading:a}}async function h(){return await m("projects","POST",e.projectInput)}async function x(){const a=await m("projects","PUT",e.projectInput);return e.edit=!1,console.log("data",a),a}const N={class:"container"},O={class:"row"},R={class:"col-md-6"},T={class:"form-group"},q={class:"form-group"},L={class:"form-group"},M={class:"form-group"},z={class:"form-group"},H={class:"form-group"},A={class:"form-group mt-3"},X=w({__name:"CreateProject",setup(a){const s=S({name:{required:p},startDate:{required:p},endDate:{required:p}},e.projectInput),{loading:f,createOrUpdate:_}=E();async function j(){await s.value.$validate()&&(await _(),s.value.$reset())}return(v,r)=>{const d=u("Error"),c=u("BaseInput"),g=u("RouterLink"),b=u("BaseBtn");return I(),D("div",N,[t("div",O,[t("div",R,[t("h3",null,P(o(e).edit?"Update Project":"Create Project"),1),r[5]||(r[5]=t("br",null,null,-1)),t("form",{onSubmit:y(j,["prevent"])},[t("div",T,[t("div",q,[n(d,{label:"Name",errors:o(s).name.$errors},null,8,["errors"]),n(c,{modelValue:o(e).projectInput.name,"onUpdate:modelValue":r[0]||(r[0]=l=>o(e).projectInput.name=l)},null,8,["modelValue"])])]),t("div",L,[t("div",M,[n(d,{label:"Start Date",errors:o(s).startDate.$errors},null,8,["errors"]),n(c,{type:"date",modelValue:o(e).projectInput.startDate,"onUpdate:modelValue":r[1]||(r[1]=l=>o(e).projectInput.startDate=l)},null,8,["modelValue"])])]),t("div",z,[t("div",H,[n(d,{label:"End Date",errors:o(s).endDate.$errors},null,8,["errors"]),n(c,{type:"date",modelValue:o(e).projectInput.endDate,"onUpdate:modelValue":r[2]||(r[2]=l=>o(e).projectInput.endDate=l)},null,8,["modelValue"])])]),r[4]||(r[4]=t("br",null,null,-1)),n(g,{to:"/projects"},{default:B(()=>r[3]||(r[3]=[C("See project list")])),_:1}),t("div",A,[n(b,{class:U(o(e).edit?"btn btn-warning":"btn btn-primary"),label:o(e).edit?"Update Project":"Create Project",loading:o(f)},null,8,["class","label","loading"])])],32)])])])}}});export{X as default};
