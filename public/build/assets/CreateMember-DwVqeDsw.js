import{b as M,d as I,r as m,o as V,c as B,e as t,t as C,u as a,w as U,a as n,g as y,n as k,f as E}from"./app-CIMN4Q9B.js";import{u as S,r as p,e as $}from"./index-6z7teoso.js";import{m as c}from"./makeHttpReq-IEoXqM35.js";import{s as h}from"./toast-notificaltion-S-mg22Rk.js";import{s as x}from"./utils-DeFJ5rtO.js";import{m as e}from"./MemberStore-BKczrErB.js";function N(){const s=M(!1);async function i(){try{s.value=!0;const o=e.edit?await R():await O();s.value=!1,e.memberInput={},h(o.message)}catch(o){s.value=!1,x(o)}}return{createOrUpdate:i,loading:s}}async function O(){return await c("members","POST",e.memberInput)}async function R(){const s=await c("members","PUT",e.memberInput);return e.edit=!1,s}const T={class:"container"},q={class:"row"},L={class:"col-md-6"},P={class:"form-group"},z={class:"form-group"},D={class:"form-group"},H={class:"form-group"},j={class:"form-group mt-3"},W=I({__name:"CreateMember",setup(s){const o=S({email:{required:p,email:$},name:{required:p}},e.memberInput),{loading:b,createOrUpdate:f}=N();async function _(){await o.value.$validate()&&(await f(),o.value.$reset())}return(v,r)=>{const u=m("Error"),d=m("BaseInput"),g=m("RouterLink"),w=m("BaseBtn");return V(),B("div",T,[t("div",q,[t("div",L,[t("h3",null,C(a(e).edit?"Update Member":"Create Member"),1),r[4]||(r[4]=t("br",null,null,-1)),t("form",{onSubmit:U(_,["prevent"])},[t("div",P,[t("div",z,[n(u,{label:"Name",errors:a(o).name.$errors},null,8,["errors"]),n(d,{modelValue:a(e).memberInput.name,"onUpdate:modelValue":r[0]||(r[0]=l=>a(e).memberInput.name=l)},null,8,["modelValue"])])]),t("div",D,[t("div",H,[n(u,{label:"Email",errors:a(o).email.$errors},null,8,["errors"]),n(d,{modelValue:a(e).memberInput.email,"onUpdate:modelValue":r[1]||(r[1]=l=>a(e).memberInput.email=l)},null,8,["modelValue"])])]),r[3]||(r[3]=t("br",null,null,-1)),n(g,{to:"/members"},{default:y(()=>r[2]||(r[2]=[E("See members list")])),_:1}),t("div",j,[n(w,{class:k(a(e).edit?"btn btn-warning":"btn btn-primary"),label:a(e).edit?"Update Membrer":"Create Member",loading:a(b)},null,8,["class","label","loading"])])],32)])])])}}});export{W as default};
